## ---- echo = FALSE, message = FALSE----------------------------------------------------------------------------------------
library(tidyverse)
library(glmnetUtils)


## --------------------------------------------------------------------------------------------------------------------------
source("../code/functions/plot_glmnet.R")


## --------------------------------------------------------------------------------------------------------------------------
theft_train = read_csv("../data/clean/theft_train.csv")


## --------------------------------------------------------------------------------------------------------------------------
set.seed(471) # set seed for reproducibility
ridge_fit = cv.glmnet(theftrate ~ .-fips,  # formula notation, as usual
                      alpha = 0,                 # alpha = 0 for ridge
                      nfolds = 10,               # number of folds
                      data = theft_train)   # data to run ridge on


## --------------------------------------------------------------------------------------------------------------------------
plot(ridge_fit)


## --------------------------------------------------------------------------------------------------------------------------
plot_glmnet(ridge_fit, theft_train, features_to_plot = 8)

